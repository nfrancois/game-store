<link rel="import" href="packages/polymer/polymer.html">
<link rel="import" href="packages/core_elements/core_icons.html">
<link rel="import" href="packages/core_elements/core_toolbar.html">
<link rel="import" href="packages/core_elements/core_media_query.html">
<link rel="import" href="packages/core_elements/core_input.html">
<link rel="import" href="packages/core_elements/core_header_panel.html">
<link rel="import" href="packages/paper_elements/paper_icon_button.html">
<link rel="import" href="packages/paper_elements/paper_input.html">
<link rel="import" href="packages/paper_elements/paper_fab.html">

<link rel="import" href="game.html">

<polymer-element name="x-games">
	<template>
    <style>
      .bottom-float {
        position: fixed;
        right: 15px;
        bottom: 15px;
      }
    </style>
    <link rel="stylesheet" href="css/app.css">
    
    <!-- Navigation bar -->
    
    <core-header-panel flex>
      <core-toolbar id="mainheader" style="background: #4285f4;">
        <paper-icon-button icon="menu"></paper-icon-button>
        <span flex>Game Store</span>
        <paper-input label="Search..." value="{{search}}"></paper-input>
        <paper-icon-button icon="search"></paper-icon-button>
      </core-toolbar>
     </core-header-panel>   

    <div>
    <a href="#/games/new">
      <paper-fab icon="create" class="red" title="create"></paper-fab>
    </a>
    </div>
    
		<header class="page-header">
		    <h1>Games <small>{{games.length}} games</small></h1>
		</header>

    <!--
		<section class="well form-inline">
		    <section class="pull-right">
		        <button class="btn btn-success" on-click="{{compact}}"><i class="icon-white {{ {'glyphicon glyphicon-th-list' : !isCompact , 'glyphicon glyphicon-th' : isCompact } }}"></i></button>
		        <button class="btn btn-info" on-click="{{sort}}" data-field="name">Sort by name</button>
		        <button class="btn btn-info" on-click="{{sort}}" data-field="rating">Sort by rating</button>
		    </section>
		</section>
    -->
    
    <!--
		<template if="{{!isCompact}}">
    -->
		  <template repeat="{{game in games | filterSearch(search) | sortBy(sortField, sortAscending)}}">
		    <x-game game="{{game}}" on-delete="{{delete}}"></x-game>
		  </template>
      
      <!--
	  	</template>

	    <template if="{{isCompact}}">
		    <table class="table table-striped">
				    <thead>
				    <tr>
				        <th>Name</th>
				        <th>Genre</th>
				        <th>Rating</th>
				    </tr>
				    </thead>
				    <tbody>
		         <tr template repeat="{{game in games | filterSearch(search) | sortBy(sortField, sortAscending)}}">
						    <tr>
						        <td>{{game.name}}</td>
						        <td>{{game.genre}}</td>
						        <td>{{game.rating | stars}}</td>
						    </tr>
				    </tbody>
			</table>
	    </template>
  -->
	</template>
  <script type="application/dart" src="games.dart"></script>
</polymer-element>